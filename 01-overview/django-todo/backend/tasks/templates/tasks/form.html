{% extends 'base.html' %}
{% block content %}
  <a href="/todos/" class="btn btn-link mb-3"><i class="bi bi-arrow-left"></i> Back to tasks</a>

  <div class="card mx-auto" style="max-width: 720px;">
    <div class="card-header">
      <h2 class="h5 mb-0">{% if form.instance.pk %}Edit Task{% else %}New Task{% endif %}</h2>
    </div>
    <div class="card-body">
      <form method="post" class="d-grid gap-3">
        {% csrf_token %}

        <div>
          <label for="id_title" class="form-label">Title <span class="text-danger">*</span></label>
          {{ form.title }}
        </div>

        <div>
          <label for="id_description" class="form-label">Description</label>
          {{ form.description }}
        </div>

        <div class="row g-3">
          <div class="col-md-6">
            <label for="id_due_date" class="form-label">Due date</label>
            {{ form.due_date }}
          </div>
          <div class="col-md-6">
            <label for="id_category" class="form-label">Category</label>
            {{ form.category }}
          </div>
        </div>

        <div>
          <label for="id_priority" class="form-label">Priority</label>
          {{ form.priority }}
        </div>

        {% if form.instance.pk %}
          <div class="form-check">
            {{ form.is_resolved }}
            <label for="id_is_resolved" class="form-check-label">Completed</label>
          </div>
        {% endif %}

        <div class="d-flex gap-2 pt-2">
          <button type="submit" class="btn btn-primary flex-fill">{% if form.instance.pk %}Save changes{% else %}Create task{% endif %}</button>
          <a href="/todos/" class="btn btn-outline-secondary">Cancel</a>
        </div>
      </form>
    </div>
  </div>
{% endblock %}
